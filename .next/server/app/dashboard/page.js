(()=>{var e={};e.id=105,e.ids=[105],e.modules={559:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>s});let s=(0,t(2907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"D:\\\\Code_Works\\\\_Frontend\\\\gamelogin_nextjs_webapp\\\\src\\\\app\\\\dashboard\\\\page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"D:\\Code_Works\\_Frontend\\gamelogin_nextjs_webapp\\src\\app\\dashboard\\page.tsx","default")},755:(e,r,t)=>{Promise.resolve().then(t.bind(t,559))},846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},1135:()=>{},1630:e=>{"use strict";e.exports=require("http")},1820:e=>{"use strict";e.exports=require("os")},2412:e=>{"use strict";e.exports=require("assert")},3033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},3154:()=>{},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},3402:()=>{},3873:e=>{"use strict";e.exports=require("path")},3997:e=>{"use strict";e.exports=require("tty")},4075:e=>{"use strict";e.exports=require("zlib")},4431:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>d,metadata:()=>l});var s=t(7413),a=t(2376),o=t.n(a),n=t(8726),i=t.n(n);t(1135);let l={title:"Create Next App",description:"Generated by create next app"};function d({children:e}){return(0,s.jsx)("html",{lang:"en",children:(0,s.jsx)("body",{className:`${o().variable} ${i().variable} antialiased`,children:e})})}},4735:e=>{"use strict";e.exports=require("events")},5511:e=>{"use strict";e.exports=require("crypto")},5591:e=>{"use strict";e.exports=require("https")},5881:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>a});var s=t(1658);let a=async e=>[{type:"image/x-icon",sizes:"16x16",url:(0,s.fillMetadataSegment)("/webapp_for_Unity3dGame_nextjs-",await e.params,"favicon.ico")+""}]},6843:(e,r,t)=>{Promise.resolve().then(t.t.bind(t,6444,23)),Promise.resolve().then(t.t.bind(t,6042,23)),Promise.resolve().then(t.t.bind(t,8170,23)),Promise.resolve().then(t.t.bind(t,9477,23)),Promise.resolve().then(t.t.bind(t,9345,23)),Promise.resolve().then(t.t.bind(t,2089,23)),Promise.resolve().then(t.t.bind(t,6577,23)),Promise.resolve().then(t.t.bind(t,1307,23))},7208:(e,r,t)=>{Promise.resolve().then(t.bind(t,8061))},7910:e=>{"use strict";e.exports=require("stream")},8061:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>i});var s=t(687),a=t(3210),o=t(5659),n=t(1060);function i(){let[e,r]=(0,a.useState)(null),[t,i]=(0,a.useState)({username:"",gold:0,gems:0,level:1,profilePic:null}),[l,d]=(0,a.useState)(!1),[u,p]=(0,a.useState)(null),[c,m]=(0,a.useState)(!1),h=(e,r)=>{i(t=>({...t,[e]:r}))},b=async()=>{if(t?.username){d(!0);try{let e=await n.A.put("https://nodejs-server-for-unity3dgame-login-5vxc.onrender.com/u3d/saveGameData",{username:t.username,gameData:{gold:t.gold||0,gems:t.gems||0,level:t.level||1}});0===e.data.code?(alert("Game data saved successfully!"),r({...t})):alert("Failed to save data.")}catch(e){console.error("Save error:",e),alert("Error saving game data.")}finally{d(!1)}}},x=async()=>{if(!u)return;m(!0);let e=o.A.get("token"),t=new FormData;t.append("image",u);try{await n.A.post("https://nodejs-server-for-unity3dgame-login-5vxc.onrender.com/u3d/uploadProfilePictureWeb",t,{headers:{Authorization:`Bearer ${e}`,"Content-Type":"multipart/form-data"}}),alert("Profile picture uploaded!");let s=await n.A.get("https://nodejs-server-for-unity3dgame-login-5vxc.onrender.com/u3d/getGameDataSecured",{headers:{Authorization:`Bearer ${e}`}});0===s.data.code&&(r(s.data.userData),i(s.data.userData))}catch(e){console.error("Upload error:",e),alert("Error uploading image.")}finally{m(!1),p(null)}};return t?(0,s.jsxs)("div",{className:"p-8 max-w-lg mx-auto space-y-4",children:[(0,s.jsxs)("h2",{className:"text-xl font-bold",children:["Welcome, ",t.username]}),t.profilePic?(0,s.jsx)("img",{src:t.profilePic,alt:"Profile",className:"w-32 h-32 rounded-full"}):(0,s.jsx)("div",{className:"text-gray-500",children:"No profile picture uploaded"}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block font-semibold",children:"Gold:"}),(0,s.jsx)("input",{type:"number",value:Number.isFinite(t.gold)?t.gold:0,onChange:e=>h("gold",parseInt(e.target.value)||0),className:"border rounded px-2 py-1 w-full"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block font-semibold",children:"Gems:"}),(0,s.jsx)("input",{type:"number",value:Number.isFinite(t.gems)?t.gems:0,onChange:e=>h("gems",parseInt(e.target.value)||0),className:"border rounded px-2 py-1 w-full"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block font-semibold",children:"Level:"}),(0,s.jsx)("input",{type:"number",value:Number.isFinite(t.level)?t.level:1,onChange:e=>h("level",parseInt(e.target.value)||1),className:"border rounded px-2 py-1 w-full"})]}),(0,s.jsx)("button",{onClick:b,disabled:l,className:"bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600",children:l?"Saving...":"Save Changes"}),(0,s.jsxs)("div",{className:"mt-6",children:[(0,s.jsx)("label",{className:"block font-semibold mb-1",children:"Upload Profile Picture:"}),(0,s.jsx)("input",{type:"file",accept:"image/*",onChange:e=>{let r=e.target.files?.[0];r&&r.size<=204800?p(r):alert("Image must be 200KB or less.")},className:"mb-2"}),(0,s.jsx)("button",{onClick:x,disabled:c||!u,className:"bg-green-500 text-white px-4 py-2 rounded hover:bg-green-600",children:c?"Uploading...":"Upload Image"})]})]}):(0,s.jsx)("div",{className:"p-8",children:"Loading..."})}},8354:e=>{"use strict";e.exports=require("util")},8887:(e,r,t)=>{"use strict";t.r(r),t.d(r,{GlobalError:()=>n.a,__next_app__:()=>p,pages:()=>u,routeModule:()=>c,tree:()=>d});var s=t(5239),a=t(8088),o=t(8170),n=t.n(o),i=t(893),l={};for(let e in i)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>i[e]);t.d(r,l);let d={children:["",{children:["dashboard",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,559)),"D:\\Code_Works\\_Frontend\\gamelogin_nextjs_webapp\\src\\app\\dashboard\\page.tsx"]}]},{metadata:{icon:[async e=>(await Promise.resolve().then(t.bind(t,5881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(t.bind(t,4431)),"D:\\Code_Works\\_Frontend\\gamelogin_nextjs_webapp\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,7398,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(t.t.bind(t,9999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(t.t.bind(t,5284,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(t.bind(t,5881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]}.children,u=["D:\\Code_Works\\_Frontend\\gamelogin_nextjs_webapp\\src\\app\\dashboard\\page.tsx"],p={require:t,loadChunk:()=>Promise.resolve()},c=new s.AppPageRouteModule({definition:{kind:a.RouteKind.APP_PAGE,page:"/dashboard/page",pathname:"/dashboard",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},9021:e=>{"use strict";e.exports=require("fs")},9121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},9294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},9551:e=>{"use strict";e.exports=require("url")},9987:(e,r,t)=>{Promise.resolve().then(t.t.bind(t,6346,23)),Promise.resolve().then(t.t.bind(t,7924,23)),Promise.resolve().then(t.t.bind(t,5656,23)),Promise.resolve().then(t.t.bind(t,99,23)),Promise.resolve().then(t.t.bind(t,8243,23)),Promise.resolve().then(t.t.bind(t,8827,23)),Promise.resolve().then(t.t.bind(t,2763,23)),Promise.resolve().then(t.t.bind(t,7173,23))}};var r=require("../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),s=r.X(0,[447,145,658,770],()=>t(8887));module.exports=s})();